language: java
jdk:
  - oraclejdk7
  - openjdk7
notifications:
  email:
    recipients:
      - betfair-cougar-dev@googlegroups.com
    on_success: always
    on_failure: always
before_install:
   - "gem install travis-artifacts"
install: "echo 'No install command here!'"
script: "mvn install -Pintegration-test -B -Denv.M2_HOME=/usr/share/maven"
after_failure:
  - "bash -x uploadSurefireReports.sh"
after_success:
  - "bash deploySnapshotBuild.sh"
env:
 global:
   - "ARTIFACTS_AWS_REGION=eu-west-1"
   - "ARTIFACTS_S3_BUCKET=eswdd.travis-ci"
   # S3 credentials
   - secure: "BpUh4fDvDlHolTGftatmhQdfl61Yyjb6AiDxreiWiIKyG1cuE4EhrvqFIikaWqesQ5uQkWWa6zHnA4r4FDDgFt11Qlq7Pp9oV7wqru0hZIVgFhOi1Uxdn/b0DTcDIEbrghyKkwHDM4F5q58dTggr8hXXXL5fsRx+m23tHum8x18="
   - secure: "LNBKYWq+b82QA9DVDfwb3XEXFkm/pWEPogn9D+AmimUUZ4rAsFb4OtwZ3vvfoIRujSLdbzr3g4ZCwoWmhEe8WLMIkbQ8CQLYrFvQk8/+f48OAb90n/3M6Ow0lHBz+h5D6/N2rs2QegRdf/kgrBL2M0CygRduW1VT7ESLx+t846w="
   # Sonatype Snapshot repo credentials
   - secure: "dN4cQEqoxAs4jMWLJqOfuJobSh7lqj5Ugo64sQcKLzJqpwBXaMyQvFsQxarWqbFWRjzSu8lw1+vQmz6R+dW6ysPDkQ/MqD1ETieBJjuQ46ynYMOVdR5hh4ovMnfCsCzpoaCdsuNFv+PwU6BN5LzQA7iKHSYDINzQKy1gobzzYtA="
   - secure: "bFEuZ3TbP/saFjqPF2naGi2QVRCfghMx/ztYR2GUuBy1NI70NSXkUhkob8Lyef2+zI9dDz4rF3+DocIb4Yx7BGoV16qxdOhGUPAKRyFKzgN9xH/8gSNJmtZvuHfrTA4lfluiu8NTbqBq7I2T4L4LQCldpmSvWgHr+Ag4hJ2kotk="
